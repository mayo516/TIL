
# 데이터베이스

# **ERD와 정규화**

## DB를 엑셀이라고 생각하자 ?

- 그렇게 생긴 2차원 표라고 생각하자
- 그렇다고 엑셀이라고 생각하면 안된다.

### 정규형

- 1NF ( 1정규형)  : 각 칸은 **더이상 쪼갤 수 없는** 데이터여야 한다.



- 2NF ( 2정규형) : 부분함수 종속 , 복합키가 있을때 컬럼이 두개와 밀접한 관련이 있어야한다.


- 3NF ( 3정규형) : 이행함수 종속,  A→B , B→C , A→C , 키는 더 구체적인 단위로
- 역정규화 ⇒ 개발 편의성을 위해서 .
- 컬럼이 한개면 분리했을 때의 이익이 적다.

## 아이디가 필요한 이유

고유한 값이 있어야 연결할 때 오류가 발생하지 않는다. 

- 키 ⇒ 고유한 것(id) , 바뀔 수 없는 것(수정 불가 ) , **삽입 수정 삭제 시 문제가 없는 지** 살펴본다 .
    - 기본키( 바뀔 일이 없고 각각의 행을 구분해주는 키 ), PK
    - 외래키 ( 남의 테이블의 키를 가져온 것 ), FK

## 아이디를 연이은 숫자로 할 때 장단점

- UUID, Nano ID
- 회사의 정보가 간접적으로 노출될 수 있다.

## 테이블간의 관계

- 1:1 (일대일)
- 1:N (일대다)
- M:N (다대다) ⇒ 중간 테이블을 하나 더 만들어줘서 해결



중간 테이블

다대다 의 경우 중복때문에 추후 수정 삭제 시 생길 수 있는 문제들이 있다. 실수할 가능성 줄이기.

- ERD 테이블간의 관계를 보기 편하게 만든 것 .

## Soft delete / Hard delete

소프트 delete

- ex) 퇴사일 같은 열을 만들어서 없애기

하드 delete

- 행 자체를 삭제

---

CREATE SCHEMA `new` DEFAULT CHARACTER SET utf8mb4 ;
